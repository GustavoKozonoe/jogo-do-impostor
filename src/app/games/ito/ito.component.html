<div class="ito-game">
  <div
    class="game-wrapper container-fluid ito-container d-flex flex-column justify-content-center align-items-center"
    [class.fade-out]="isEnding"
    *ngIf="!showRanking"
  >
    <div class="card-container text-center">
      <app-game-flip-card
        [isRevealed]="isRevealed"
        (reveal)="reveal()"
        (hide)="hide()"
      >
        <ng-container front>
          <h2>{{ currentPlayer?.player }}</h2>

          <button class="btn btn-primary" (click)="reveal()">
            Revelar nÃºmero
          </button>
        </ng-container>

        <ng-container back>
          <div class="ito-number" [ngClass]="getItoColorClass">
            {{ currentPlayer?.itoNumber }}
          </div>

          <button class="btn btn-outline-light" (click)="hide()">
            Esconder
          </button>
        </ng-container>
      </app-game-flip-card>

      <button
        *ngIf="isDone && !showRanking"
        class="btn btn-success mt-3"
        (click)="showFinalRanking()"
      >
        ğŸ† Mostrar ranking final
      </button>

      <app-game-controls
        [isDone]="isDone"
        [isFirstPlayer]="isFirstPlayer"
        [isRevealed]="isRevealed"
        [index]="index"
        [players]="players"
        (previous)="previousPlayer()"
        (next)="nextPlayer()"
        (restart)="restartGame()"
      ></app-game-controls>
    </div>

    <app-game-used-themes [usedThemes]="usedThemes"></app-game-used-themes>
  </div>

  <app-ito-ranking-reveal
    *ngIf="showRanking"
    [players]="sortedPlayers"
    (restart)="restartGame()"
  ></app-ito-ranking-reveal>
</div>
